# $Header$
2004-05-28 Benoit Grégoire  <papril777@yahoo.com>
    * Fixed bugs implemented after major changes

2004-05-27 Benoit Grégoire  <bock@step.polymtl.ca>
	* Massive Doxygen update in all files.  IMPORTANT: The new convention is:  @brief in the .h, long description and parameters in the .c
	* Cleaned up some more issues in my notes taken at the formal review
	* client_list.c,h:  Make client_list_free_node() private, define and document client_list_mutex here
	* config.c:  Start the hunt for evil globals:  Get rid of the config global
	* doc/doxygen.cfg.in:  Enable generation of internal doc, a few other tweaks
	* Documentation now generates a TODO list and DEPRECATED list, please look at them

2004-05-27  Alexandre Carmel-Veilleux <acv@acv.ca>
	* Cleaned up all the issues brought forward in the code review
	  on 2004-05-26 at Benoit's. There are to many changes to list
	  individually.

2004-05-15  Philippe April <papril777@yahoo.com>
    * Commented out cookie handling in libhttpd because it segfaults if
    you pass a particular formatting/buggy one

2004-05-14  Philippe April <papril777@yahoo.com>
    * Fixed crash when receiving SIGPIPE signal with write() would fail

2004-05-13  Philippe April <papril777@yahoo.com>
    * Advertise to the central server when we logged out a user

2004-05-12  Philippe April <papril777@yahoo.com>
    * Sending a "stage" when doing authentication for the server
    to be able to know if it's a login, or just a counters update.

2004-05-11  Philippe April <papril777@yahoo.com>
    * Now tracking the hotspot id and ip in database

2004-05-07  Philippe April <wifidog@philippeapril.com>
    * Now we store both incoming and outgoing counters on server
    and expire if no activity at all on both
    * Changed the structure of nodes a little

2004-05-07  Philippe April <wifidog@philippeapril.com>
    * New parameter ExternalInterface
    * Made possible to count inbound traffic by inserting new rules

2004-05-07  Philippe April <wifidog@philippeapril.com>
    * Cleaned up common.h from files

2004-05-07  Philippe April <wifidog@philippeapril.com>
    * Made iptables' tables DEFINEs instead of being hardcoded

2004-05-07  Philippe April <wifidog@philippeapril.com>
    * Fixed typo

2004-05-06  Philippe April <papril777@yahoo.com>
    * Cleanups and standardized things

2004-05-06  Philippe April <papril777@yahoo.com>
    * Cleanups in fw_counter function

2004-05-05  Philippe April <papril777@yahoo.com>
    * Calling iptables directly instead of using shell scripts
    for fw_init, fw_destroy and fw_allow/fw_deny
    * Removed shell script for fw.counters
    * Fixed memory leaks
    * Moved most of the iptables-specific (all but the counters)
    to iptables.c to modularize a bit more
    * Hack to allow deciding if we want FW calls' messages quiet or not

2004-04-23  Philippe April <papril777@yahoo.com>
    * Fixed a debug line

2004-04-22  Philippe April <papril777@yahoo.com>
    * Major changes, cleaned up code
    * Changed the way firewall tags traffic

2004-04-21  Philippe April <papril777@yahoo.com>
    * Changed fw.destroy so it cleans up more in a while loop

2004-04-20  Alexandre Carmel-Veilleux <acv@acv.ca>
	* fixed expiration time

2004-04-20  Philippe April <papril777@yahoo.com>
    * A lot of changes regarding debugging facilities and added logging
    to syslog
    * Removed possibility to specify port on command line

2004-04-19  Philippe April <papril777@yahoo.com>
	* Changed some debugging severity

2004-04-19  Benoit Grégoire  <bock@step.polymtl.ca>
	* Properly integrate libhttpd into the source tree ;)  Note that this will create a proper system wide shared library for libghttpd.  Still to be done:  1- Store Mina's patch somewhere,  in case we want to upgrade libhttpd.  2-Add configure option not to build httpd, and use an already installed one.

2004-04-18  Alexandre Carmel-Veilleux <acv@acv.ca>
	* Fixed pthread_cond_timedwait. The mutex needed to be locked as
	per the POSIX spec, yet Linux or Mac OS X don't care...
	* Fixed the double SIGTERM handler on Linux...

2004-04-17  Alexandre Carmel-Veilleux <acv@acv.ca>
	* Added work around for uClibc bug in auth.c

2004-04-17  Philippe April <papril777@yahoo.com>
	* Fixed firewall scripts to make them standard and some firewall functions

2004-04-17  Alexandre Carmel-Veilleux <acv@acv.ca>
	* Updated documentation in firewall.c

2004-04-17  Philippe April <papril777@yahoo.com>
	* Fixed path returning to gateway in phpauth/login/index.php

2004-04-16  Alexandre Carmel-Veilleux <acv@acv.ca>
	* Merged in libhttpd into the source tree

2004-04-16  Philippe April <papril777@yahoo.com>
	* Fixed CRLF/formatting in phpauth/login/index.php
	* Added some documentation for firewall.c, commandline.c
	* Removed an unnecessary line dist_sysconf_DATA from Makefile.am

2004-04-15  Alexandre Carmel-Veilleux <acv@acv.ca>
	* Changed the locking mechanism, now all access to t_node * structs
	are properly protected.

2004-04-15  Alexandre Carmel-Veilleux <acv@acv.ca>
	* Connection now closed if counter hasn't change for one full
	period.

2004-04-14  Philippe April <papril777@yahoo.com>
	* Fixed shell script hardcoded interface

2004-04-14  Alexandre Carmel-Veilleux <acv@acv.ca>
	* Existing IPs are logged off when they're authenticated again.

2004-04-14  Alexandre Carmel-Veilleux <acv@acv.ca>
	* Fixed clean up so it happens at the right time.

2004-04-14  Alexandre Carmel-Veilleux <acv@acv.ca>
	* Major retooling of insert_userclass(), fixed seg fault.
	* The program now works as advertised.

2004-04-14  Alexandre Carmel-Veilleux <acv@acv.ca>
	* Switched to threads. Alpha quality build, at best

2004-04-12  Alexandre Carmel-Veilleux <acv@acv.ca>
	* Changed child return value handling, again. Now it's actually
	using the real value instead of the flag.
	* The http.c authentication code now closes the http connection
	from the user.

2004-04-11  Alexandre Carmel-Veilleux <acv@acv.ca>
	* Added extra debugging information.
	* Fixed return value handling in debugging calls.

2004-04-11  Alexandre Carmel-Veilleux <acv@acv.ca>
	* Removed duplicates signal handling hooks
	* Additional comments in SIGCHLD handler

2004-04-11  Alexandre Carmel-Veilleux <acv@acv.ca>
	* Node find if's expressions changed

2004-04-11  Alexandre Carmel-Veilleux <acv@acv.ca>
	* SIGCHLD Handler initializaed outside of deamon mode now.

2004-04-11  Alexandre Carmel-Veilleux <acv@acv.ca>
	* Very large modification. The entire architecture has been reworked
	so that authentications to the central server are performed in a
	fork()'d child process and the exit code from that child is then
	used to set the User Class of the connection.
	* The UserClasses (global definitions) and Rights (per connection)
	have been integrated.

2004-03-16  Mina Naguib <minaguib@users.sourceforge.net>
	* Changed HTTP server tasks to be handled by libhttpd - merged
	incorporate_libhttpd branch

2004-03-13  Philippe April <papril777@yahoo.com>
	* Modified the way firewall scripts are called so we can configure
	them in the config file (a bit more modular than it was)
	* Added simple linked list to keep track of clients and to
	keep a counter of the utilization and send it to the auth server
	* Fixed CRLF/formatting in phpauth/auth/index.php
	* Hacked phpauth/auth/index.php to handle very basic utilization tracking

2004-03-12  Philippe April <papril777@yahoo.com>
	* Changed all perror()s into debug()s and added errno.h to common.h

2004-03-10  Philippe April <papril777@yahoo.com>
	* Small fix to firewall.c so we don't define variables after
	the function has started (so it builds on gcc-2.95)

2004-03-09  Philippe April <papril777@yahoo.com>
	* Major changes, not forking anymore for new connections, now using
	select() instead. It will allow us to efficiently use a linked list to track
	users and other things. It introduces some bugs and design issues but will
	be better in the end.

2004-03-09  Philippe April <papril777@yahoo.com>
	* Small fix in the default.php login page
	* exit() where the program was supposed to exit but wasn't when the
	firewall could not be setup

2004-03-09  Alexandre Carmel-Veilleux <acv@acv.ca>
	* Tiny change to increase cross-platform compatibility. It can now build on OS X and it comes close to building on my old BSD box.

2004-03-08  Benoit Grégoire  <bock@step.polymtl.ca>
	* Initial CVS import.  Integrate a standrad GNU build system and Doxygen to the build process.  Add Doxygen and CVS headers, .cvsignores, etc.  Note that the imported code is Philippe April (papril777 at yahoo.com)'s work.  Tell me if I forgot anything.  Please note that the paths in the src/fw* scripts are still hardcoded.  Don't forget to update the ChangeLog file every commit and add doxygen comments to your code.  Happy hacking.

